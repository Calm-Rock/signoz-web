---
title: Ingestion Troubleshooting
id: ingestion-troubleshooting
---

## General Troubleshooting

When encountering issues with ingestion, follow these steps to diagnose and potentially resolve the problem:

1. **Enable diagnostic logs**: To enhance error tracking, configure your OTLP client to capture comprehensive diagnostic logs by following the instructions listed [below](#collect-diagnostic-logs).

2. **Verify endpoint connectivity**: Use a simple shell command like `curl <endpoint>` from the machine in question to determine if there are any local network configuration issues (such as firewall restrictions) preventing connectivity to the ingestion endpoint. You can find your endpoint [here](/docs/ingestion/signoz-cloud/overview/).

3. **Validate Ingestion Key**: Ensure your Ingestion key is valid and properly set. Invalid or missing Ingestion keys are a common issue that typically present with HTTP 403 or 401 status codes, or gRPC Unauthenticated or PermissionDenied status codes. If you encounter these, double-check that your Ingestion key is valid, correctly configured and has not expired.

4. **Validate Ingestion Limits**: Incorrect Ingestion key limits may inadvertently restrict your data flow. Verify your current Ingestion limits to ensure optimal data throughput. For a comprehensive understanding of how these limits function, refer to our [Ingestion Key Limits documentation](/docs/ingestion/signoz-cloud/keys/).

5. **Evaluate retry success**: Confirm if exports succeed after retry attempts. While occasional transient errors are expected, persistent failures may indicate a more significant issue. If you suspect that transient errors are occurring more frequently than expected, please reachout to SigNoz support.

6. **Monitor non-retried errors**: Be on the lookout for scenarios where transient errors are not being retried. Despite best efforts, there may be corner cases where the ingestion endpoint returns non-retriable status codes for transient errors. If you believe you've encountered this scenario, please reachout to SigNoz support.

## Collect Diagnostic Logs
Diagnostic Logs capture critical information that helps identify root causes of issues and provides essential context for troubleshooting, whether performed by you or the SigNoz Support team.

### Opentelemetry Collector
In order to enable detailed log information, add the following snippet to your collector configuration:
```
service:
  telemetry:
    logs:
      level: DEBUG
```

### Language SDKs
Refer to the SigNoz [instrumentation docs](/docs/instrumentation/) for language-specific details.

## Issues Catalog

<Tabs>
<TabItem value="http" label="HTTP Protocol" default>

<Tabs>
<TabItem value="400" label="Bad Request" default>
**Root Cause:**
  - Payload is malformed

**Resolution:** 
  - Depending upon the endpoint, consult the relevant documenation to verify the payload schema.

</TabItem>

<TabItem value="401" label="Unauthorized" default>
**Root Cause:**
  - Ingestion key is invalid or malformed.
  - Ingestion key has expired.

**Resolution:** 
  - Ensure Ingestion key is properly included in headers. 
  - Ensure Ingestion key has not expired.

Refer to our [Ingestion Key documentation](/docs/ingestion/signoz-cloud/keys/) for more information.
</TabItem>

<TabItem value="404" label="Not Found" default>
**Root Cause:**
  - Ingestion key does not exist.
  - Ingestion endpoint does not exist. 
  - Trailing slashes are being used. eg.`/logs/json/`

**Resolution:** 
  - Ensure Ingestion key does not have any typo. 
  - Ensure the Ingestion endpoint exists in SigNoz.
  - Remove the trailing slash.

</TabItem>

<TabItem value="408" label="Request Timeout">
**Root Cause:**
  - Payloads are large.
  - Networks are slower.

**Resolution:** 
Refer to the [Important Considerations](/docs/ingestion/signoz-cloud/overview/#important-considerations) section of our Ingestion documentation.

</TabItem>

<TabItem value="413" label="Content Too Large">
**Root Cause:**
  - Payloads are larger than the permissible limits.

**Resolution:** 
  - Ensure payloads are within permissible limits.

Refer to the [Important Considerations](/docs/ingestion/signoz-cloud/overview/#important-considerations) section of our Ingestion documentation.

</TabItem>

<TabItem value="429" label="Too Many Requests">

- **Error Message:**
  - Collector: `Exporting failed. Will retry the request after interval. {"kind": "exporter", "data_type": "metrics", "name": "otlphttp", "error": "Throttle (29s), error: error exporting items, request to [endpoint] responded with HTTP Status Code 429", "interval": "29s"}`
- **Resolution:** Optimize batching configuration
- **Context:** Reduce request frequency

</TabItem>

<TabItem value="499" label="Client closed the connection">
**Root Cause:**
  - Payloads are large.
  - Networks are slower.

**Resolution:** 
Refer to the [Important Considerations](/docs/ingestion/signoz-cloud/overview/#important-considerations) section of our Ingestion documentation.

</TabItem>

<TabItem value="503|504" label="Service Unavailable|Gateway Timeout">
**Root Cause:**
  - Payloads are large.
  - Networks are slower.

**Resolution:** 
Refer to the [Important Considerations](/docs/ingestion/signoz-cloud/overview/#important-considerations) section of our Ingestion documentation.

</TabItem>

</Tabs>

</TabItem>
<TabItem value="grpc" label="gRPC Protocol">

<Tabs>
<TabItem value="code2" label="Unknown Error (Code 2)" default>

<Tabs>
<TabItem value="timeout" label="Timeout" default>

- **Error Message:**
  - Java: `io.opentelemetry.exporter.internal.grpc.GrpcExporter - Failed to export spans. Server responded with gRPC status code 2. Error message: timeout`
- **Resolution:** Tune batching/timeout settings
- **Context:** Occurs after export times out. Check timeout settings and client network status. If you've ruled out client-side network and configuration, open a support case.

</TabItem>
<TabItem value="http500" label="HTTP 500">

- **Error Message:**
  - Collector: `rpc error: code = Unknown desc = unexpected HTTP status code received from server: 500 (Internal Server Error); malformed header: missing HTTP content-type`
- **Resolution:** Monitor and report if persistent
- **Context:** Networking vendor produced non-retriable status code for transient error. If this happens repeatedly, open a support case.

</TabItem>
<TabItem value="http530" label="HTTP 530">

- **Error Message:**
  - Collector: `rpc error: code = Unknown desc = unexpected HTTP status code received from server: 530 (); transport: received unexpected content-type "text/html; charset=UTF-8"`
- **Resolution:** Monitor and report if persistent
- **Context:** Networking vendor produced non-retriable status code for transient error. If this happens repeatedly, open a support case.

</TabItem>
</Tabs>

</TabItem>
<TabItem value="code4" label="Deadline Exceeded (Code 4)">

- **Error Message:**
  - Collector: `rpc error: code = DeadlineExceeded desc = context deadline exceeded`
- **Resolution:** Adjust timeout settings
- **Context:** Check client network status and configuration

</TabItem>
<TabItem value="code7" label="Authentication Failure (Code 7)">

- **Error Message:**
  - Java: `Failed to export spans. Server responded with gRPC status code 7.`
  - .NET: `Exporter failed send data to collector to {0} endpoint. Data will not be sent. Exception: {1}{[endpoint]}{Grpc.Core.RpcException: Status(StatusCode="Unauthenticated", Detail="")}`
- **Resolution:** Set up API key correctly
- **Context:** Confirm API key presence in metadata

</TabItem>
<TabItem value="code8" label="Resource Exhaustion (Code 8)">

- **Error Message:**
  - Collector: `rpc error: code = ResourceExhausted desc = Too many requests", "dropped_items": 1024`
- **Resolution:** Fine-tune batching parameters
- **Context:** Adjust to stay within rate limits

</TabItem>
<TabItem value="code13" label="Internal Error (Code 13)">

<Tabs>
<TabItem value="server" label="Server" default>

- **Error Message:**
  - Java: `Failed to export spans. Server responded with gRPC status code 13.`
- **Resolution:** Contact support if persistent
- **Context:** May indicate temporary service issues **Context:** Occurs after export times out. Check timeout settings and client network status. If you've ruled out client-side network and configuration, open a support case.

</TabItem>

<TabItem value="http400" label="HTTP 400" default>

- **Error Message:**
  - Collector: `rpc error: code = Internal desc = unexpected HTTP status code received from server: 400 (Bad Request)`
- **Resolution:** Contact support if persistent
- **Context:** Should solve with retry. Ensure collector has sufficient resources to handle retry backpressure.

</TabItem>

</Tabs>
</TabItem>
<TabItem value="code14" label="Service Unavailable (Code 14)">

<Tabs>
<TabItem value="connectionreset" label="Connection Reset" default>

- **Error Message:**
  - Collector: `rpc error: code = Unavailable desc = error reading from server: read tcp [IP:PORT]: read: connection reset by peer`
- **Resolution:** Implement robust retry logic
- **Context:** Should solve with retry. Ensure collector sufficient resources for retry handling

</TabItem>

<TabItem value="http502" label="HTTP 502" default>

- **Error Message:**
  - Collector: `rpc error: code = Unavailable desc = unexpected HTTP status code received from server: 502 (Bad Gateway); transport: received unexpected content-type "text/html"`
- **Resolution:** Implement robust retry logic
- **Context:** Should solve with retry. Ensure collector sufficient resources for retry handling

</TabItem>

<TabItem value="http503" label="HTTP 503" default>

- **Error Message:**
  - Collector: `rpc error: code = Unavailable desc = unexpected HTTP status code received from server: 503 (Service Unavailable)`
- **Resolution:** Implement robust retry logic
- **Context:** Should solve with retry. Ensure collector sufficient resources for retry handling

</TabItem>

</Tabs>

</TabItem>
<TabItem value="code16" label="Permission Denied (Code 16)">

- **Error Message:**
  - Java: `Failed to export spans. Server responded with gRPC status code 16.`
  - .NET: `Exporter failed send data to collector to {0} endpoint. Data will not be sent. Exception: {1}{[endpoint]}{Grpc.Core.RpcException: Status(StatusCode="PermissionDenied", Detail="")}`
- **Resolution:** Validate API key permissions
- **Context:** Ensure API key has necessary access rights

</TabItem>
</Tabs>

</TabItem>
</Tabs>

By systematically working through these steps, you can often identify and resolve common Ingestion issues. For persistent problems that you can't resolve through these methods, please reachout to SigNoz support.
