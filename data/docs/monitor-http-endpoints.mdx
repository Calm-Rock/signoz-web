---
date: 2025-03-26
title: Monitor HTTP Endpoints
id: monitor-http-endpoints
---

## Overview

With SigNoz, you can monitor the health of one or more HTTP endpoints using the `httpcheck` receiver in the OpenTelemetry Collector. This feature allows you to:

- Continuously check if your endpoints return successful status codes.
- Collect metrics on HTTP status classes (e.g., 2xx, 4xx, 5xx).
- Trigger alerts if an endpoint starts failing or returns unexpected status codes.

## Prerequisites

- You should have the [OpenTelemetry Collector configured](https://signoz.io/docs/tutorial/opentelemetry-binary-usage-in-virtual-machine/) and able to export metrics to SigNoz.

<Tabs entityName="plans">

<TabItem value="signoz-cloud" label="SigNoz Cloud" default>

### Step 1. Add the `httpcheck` Receiver Configuration

1. Open your OpenTelemetry Collector configuration file (for example, `config.yaml`).
2. Under the `receivers` section, add the `httpcheck` configuration. Here is an example that checks `http://example.com` every 10 seconds:

```yaml {2-6,9-14}
receivers:
  httpcheck:
    targets:
      - endpoint: http://example.com #replace with the endpoint you want to check
        method: GET
    collection_interval: 10s
...
exporters:
  otlp:
    endpoint: "ingest.<region>.signoz.cloud:443"
    tls:
      insecure: false
    headers:
      "signoz-ingestion-key": "<your-ingestion-key>"
...
```

**Note:** You can add multiple targets (endpoints) as needed.


### Step 2. Configure the Metrics Pipeline

The HTTP Check Receiver can be used for synthetic checks against HTTP endpoints. This receiver will make a request to the specified endpoint using the configured method and generate a metric labelled for each HTTP response status class with a value of 1 if the status code matches the class.

Let's modify the pipeline section to include the receiver.

1. In the `service` section, update the `metrics` pipeline to include both the `otlp` receiver and the new `httpcheck` receiver:

```yaml
service:
  ....
  pipelines:
    metrics:
      receivers: [otlp, httpcheck]
      processors: [batch]
      exporters: [otlp]
```

### Step 3. Restart the Collector

For the new configuration to take effect, you need to restart your OpenTelemetry Collector.

Stop the collector and run the below command:

```bash
./otelcol-contrib --config ./config.yaml
```

To run the collector in background, follow the command [here](https://signoz.io/docs/tutorial/opentelemetry-binary-usage-in-virtual-machine/#run-in-background)

### Step 4. Verify Metrics

After restarting, search for the metric `httpcheck_status` in SigNoz.
- This metric has a value of 1 if the returned status code matches the status class (e.g., 2xx), or 0 otherwise.

For more information on additional metrics and attributes available, please read the documentation [here](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/httpcheckreceiver/documentation.md).

## Monitoring Multiple Endpoints

To monitor multiple endpoints, simply add more entries in the `targets` list. Below is an example configuration monitoring two endpoints: `http://example.com` and `http://my-app.com`. 

```yaml {2-8,11-16,21,23}
receivers:
  httpcheck:
    targets:
      - endpoint: http://example.com
        method: GET
      - endpoint: http://my-app.com
        method: GET
    collection_interval: 10s
...
exporters:
  otlp:
    endpoint: "ingest.<region>.signoz.cloud:443"
    tls:
      insecure: false
    headers:
      "signoz-ingestion-key": "<your-ingestion-key>"
...
service:
  pipelines:
    metrics:
      receivers: [otlp, httpcheck]
      processors: [batch]
      exporters: [otlp]
```

</TabItem>

<TabItem value='self-host' label='Self-Host' default>

### Step 1. Add the `httpcheck` Receiver Configuration

1. Open your primary Collector configuration file.
2. Under the `receivers` section, add the `httpcheck` configuration. Here is an example checking `http://example.com` every 10 seconds:

```yaml
receivers:
  httpcheck:
    targets:
      - endpoint: http://example.com
        method: GET
    collection_interval: 10s
```

### Step 2. Configure the Pipeline to Include the `httpcheck` Receiver

1. In the `service` section, add `httpcheck` under the `metrics` receivers:

```yaml
service:
  ....
  pipelines:
    metrics:
      receivers: [otlp, httpcheck]
      processors: [batch]
      exporters: [clickhousemetricswrite]
```

### Step 3. Restart the Collector

Stop the Collector and [restart it](https://signoz.io/docs/tutorial/opentelemetry-binary-usage-in-virtual-machine/#run-in-background) so the new configuration takes effect.

### Step 4. Verify Metrics

Look for the `httpcheck_status` metric in SigNoz, which indicates success (1) or failure (0) by HTTP status code.

## Monitoring Multiple Endpoints

To monitor multiple endpoints, simply add more entries in the `targets` list. Below is an example configuration monitoring two endpoints: `http://example.com` and `http://my-app.com`. 

```yaml {2-8,11-16,21,23}
receivers:
  httpcheck:
    targets:
      - endpoint: http://example.com
        method: GET
      - endpoint: http://my-app.com
        method: GET
    collection_interval: 10s
...
...

  service:
      ....
      metrics:
        receivers: [otlp, httpcheck]
        processors: [batch]
        exporters: [clickhousemetricswrite]
```

</TabItem>
</Tabs>

## Setting Up Alerts

Once you see the `httpcheck_status` metric in SigNoz, you can set up alerts on it.

1. **Configure notification channels**: Email, Slack, PagerDuty, etc. Follow the documentation [here](https://signoz.io/docs/setup-alerts-notification/).
2. **Create a metrics-based alert rule**: In the SigNoz UI, navigate to the "Alerts" section and create a [new metrics-based](https://signoz.io/docs/alerts-management/metrics-based-alerts/) alert rule.
